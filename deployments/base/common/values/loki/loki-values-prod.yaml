deploymentMode: SimpleScalable  # Different deployment mode, same chart version

loki:
  auth_enabled: false
  commonConfig:
    replication_factor: 3
  storage:
    type: s3  # Or filesystem if no object storage
    bucketNames:
      chunks: loki-chunks
      ruler: loki-ruler
      admin: loki-admin
    s3:
      endpoint: s3.amazonaws.com
      region: us-east-1
  schemaConfig:
    configs:
      - from: 2024-04-01
        store: tsdb
        object_store: s3
        schema: v13
        index:
          prefix: loki_index_
          period: 24h

singleBinary:
  replicas: 0  # Disabled in scalable mode

backend:
  replicas: 3
  persistence:
    enabled: true
    size: 20Gi
  resources:
    limits:
      cpu: 2
      memory: 4Gi
    requests:
      cpu: 500m
      memory: 2Gi

read:
  replicas: 3
  resources:
    limits:
      cpu: 2
      memory: 4Gi
    requests:
      cpu: 500m
      memory: 2Gi

write:
  replicas: 3
  persistence:
    enabled: true
    size: 20Gi
  resources:
    limits:
      cpu: 2
      memory: 4Gi
    requests:
      cpu: 500m
      memory: 2Gi

gateway:
  enabled: true
  replicas: 2